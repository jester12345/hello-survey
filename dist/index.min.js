/*! hello-survey - v0.0.1 - 2017-09-26 */
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),helloSurvey=function(){function e(t){_classCallCheck(this,e),t&&this.init(t)}return _createClass(e,[{key:"init",value:function(e){console.log("i data",e),this.target,e.target&&(this.target=document.getElementById(e.target)),this.submitFn=!1,e.submitFn&&"function"==typeof e.submitFn&&(this.submitFn=e.submitFn),console.log("this.submitFn",this.submitFn),this.target?this.addElementTo(this.target,"form",{method:"post","accept-charset":"utf-8"},{eventType:"submit",eventAction:this.submit},e.children):console.error("Required target parameter is missing.")}},{key:"addElementTo",value:function(e,t,n,a,i){console.log("addElementTo",e,t,n,a,i);var r=void 0;if("textNode"===t)r=document.createTextNode(n.text);else{if(r=document.createElement(t),n)for(var o in n)if("text"===o){var s=document.createTextNode(n[o]);r.appendChild(s)}else n.hasOwnProperty(o)&&r.setAttribute(o,n[o]);if(a&&r.addEventListener(a.eventType,function(e){a.eventAction(e)}),i)for(var l in i)this.addElementTo(r,i[l].element,i[l].params,i[l].event,i[l].children)}e.appendChild(r)}},{key:"submit",value:function(e){if(e.preventDefault(),e&&e.target&&e.target.elements){var t=Array.prototype.slice.call(e.target.elements).filter(function(e){return!e.disabled}).filter(function(e){return"submit"!==e.type&&"reset"!==e.type&&"button"!==e.tagName.toLowerCase()}).map(function(e){switch(console.log(e),e.tagName.toLowerCase()){case"checkbox":case"radio":return{name:e.name,value:null===e.value?"on":e.value};case"select":return e.multiple?{name:e.name,value:slice.call(e.selectedOptions).map(function(e){return e.value})}:{name:e.name,value:e.value};default:return{name:e.name,value:e.value||""}}});console.log("submit data:",t),this.submitFn&&this.submitFn(t)}}}]),e}();
//# sourceMappingURL=index.min.js.map